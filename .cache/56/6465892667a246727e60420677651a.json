{"id":"src/gl/index.js","dependencies":[{"name":"D:\\testes\\three-js\\package.json","includedInParent":true,"mtime":1584726877803},{"name":"three","loc":{"line":1,"column":23},"parent":"D:\\testes\\three-js\\src\\gl\\index.js","resolved":"D:\\testes\\three-js\\node_modules\\three\\build\\three.module.js"},{"name":"three/examples/jsm/controls/OrbitControls","loc":{"line":2,"column":30},"parent":"D:\\testes\\three-js\\src\\gl\\index.js","resolved":"D:\\testes\\three-js\\node_modules\\three\\examples\\jsm\\controls\\OrbitControls.js"},{"name":"./glsl/vertex.glsl","loc":{"line":3,"column":25},"parent":"D:\\testes\\three-js\\src\\gl\\index.js","resolved":"D:\\testes\\three-js\\src\\gl\\glsl\\vertex.glsl"},{"name":"./glsl/fragment.glsl","loc":{"line":4,"column":27},"parent":"D:\\testes\\three-js\\src\\gl\\index.js","resolved":"D:\\testes\\three-js\\src\\gl\\glsl\\fragment.glsl"},{"name":"../assets/mannequin.webp","loc":{"line":5,"column":16},"parent":"D:\\testes\\three-js\\src\\gl\\index.js","resolved":"D:\\testes\\three-js\\src\\assets\\mannequin.webp"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar THREE = _interopRequireWildcard(require(\"three\"));\n\nvar _OrbitControls = require(\"three/examples/jsm/controls/OrbitControls\");\n\nvar _vertex = _interopRequireDefault(require(\"./glsl/vertex.glsl\"));\n\nvar _fragment = _interopRequireDefault(require(\"./glsl/fragment.glsl\"));\n\nvar _mannequin = _interopRequireDefault(require(\"../assets/mannequin.webp\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function () { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar Gl = /*#__PURE__*/function () {\n  function Gl() {\n    _classCallCheck(this, Gl);\n\n    this.scene = new THREE.Scene();\n    this.aspectRatio = window.innerWidth / window.innerHeight;\n    this.camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 2); // this.cameraHelper = new THREE.CameraHelper(this.camera);\n    // this.scene.add(this.cameraHelper);\n\n    this.camera.position.z = .42;\n    console.log(this.camera.getWorldDirection());\n    console.log(this.camera.position);\n    this.renderer = new THREE.WebGLRenderer({\n      canvas: document.querySelector(\"#app\"),\n      antialias: true\n    });\n    this.renderer.setSize(window.innerWidth, window.innerHeight);\n    this.renderer.setClearColor(0x1b1118, 1);\n    this.clock = new THREE.Clock(); // this.controls = new OrbitControls(this.camera, this.renderer.domElement);\n\n    this.onResize();\n  }\n\n  _createClass(Gl, [{\n    key: \"init\",\n    value: function init() {\n      this.createMesh();\n      this.addEvents();\n    }\n  }, {\n    key: \"createMesh\",\n    value: function createMesh() {\n      this.geometry = new THREE.PlaneGeometry(0.4, 0.6, 32, 32);\n      this.material = new THREE.ShaderMaterial({\n        vertexShader: _vertex.default,\n        fragmentShader: _fragment.default,\n        uniforms: {\n          uTime: {\n            value: 0.0\n          },\n          uTexture: {\n            value: new THREE.TextureLoader().load(_mannequin.default)\n          }\n        },\n        // wireframe: true,\n        side: THREE.DoubleSide\n      });\n      this.mesh = new THREE.Mesh(this.geometry, this.material);\n      this.scene.add(this.mesh);\n      this.mesh.position.x = .2;\n\n      if (screen.width <= 699) {\n        this.mesh.position.x = 0;\n      }\n    }\n  }, {\n    key: \"addEvents\",\n    value: function addEvents() {\n      window.requestAnimationFrame(this.run.bind(this));\n      window.addEventListener(\"resize\", this.onResize.bind(this), false);\n    }\n  }, {\n    key: \"run\",\n    value: function run() {\n      requestAnimationFrame(this.run.bind(this));\n      this.render();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      this.material.uniforms.uTime.value = this.clock.getElapsedTime();\n      this.renderer.render(this.scene, this.camera);\n    }\n  }, {\n    key: \"onResize\",\n    value: function onResize() {\n      var w = window.innerWidth;\n      var h = window.innerHeight;\n      this.camera.aspect = w / h;\n      this.camera.updateProjectionMatrix();\n      this.renderer.setSize(w, h);\n    }\n  }]);\n\n  return Gl;\n}();\n\nvar _default = Gl;\nexports.default = _default;"},"sourceMaps":null,"error":null,"hash":"022d5cf125feb8510e0f751c921ef6ae","cacheData":{"env":{}}}